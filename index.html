<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Light my fractal 2</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body {
				color: #ffffff;
				font-family:Monospace;
				font-size:13px;
				text-align:center;
				font-weight: bold;

				background-color: #000000;
				margin: 0px;
				overflow: hidden;
			}

			#info {
				position: absolute;
				top: 0px; width: 100%;
				padding: 5px;
			}

			a {

				color: #ffffff;
			}

			#oldie a { color:#da0 }
		</style>
	</head>
	<body>

		<div id="container"></div>
		<div id="info"><a href="https://www.facebook.com/michael.hurtado" target="_blank" rel="noopener">Light my fractal 2 by Michael Hurtado</a></div>

		<script src="js/three.js"></script>
		<script src="js/Detector.js"></script>
		<script src="js/stats.min.js"></script>

		<script id="vertexShader" type="x-shader/x-vertex">

			void main()	{

				gl_Position = vec4( position, 1.0 );

			}

		</script>

		<script id="fragmentShader" type="x-shader/x-fragment">

			
		precision mediump float;uniform float time;uniform vec2 mouse;uniform vec2 resolution;
		void main(void){
			vec2 v = (gl_FragCoord.xy - resolution/2.0) / min(resolution.y,resolution.x) * 20.0;vec2 vv = v; vec2 vvv = v;float tm = time*0.03*mouse.x;vec2 mspt = (vec2(sin(tm)+cos(tm*0.2)+sin(tm*0.5)+cos(tm*-0.4)+sin(tm*1.3),cos(tm)+sin(tm*0.1)+cos(tm*0.8)+sin(tm*-1.1)+cos(tm*1.5))+1.0)*0.1; 
			float R = 0.0;float RR = 0.0;float RRR = 0.0;float a = (.6-mspt.x)*6.2;float C = cos(a);float S = sin(a);vec2 xa=vec2(C, -S);vec2 ya=vec2(S, C);vec2 shift = vec2( 0, 1.62);float Z = 1.0 + mspt.y*6.0;float ZZ = 1.0 + (mspt.y)*6.2;float ZZZ = 1.0 + (mspt.y)*6.9;
			
			for ( int i = 0; i < 40; i++ ){float r = dot(v,v);if ( r > 1.0 ){r = (1.0)/r ;v.x = v.x * r;v.y = v.y * r;}
				R *= .99;R += r;
				if(i < 39){RR *= .99;RR += r;if(i < 38){RRR *= .99;RRR += r;}}
				v = vec2( dot(v, xa), dot(v, ya)) * Z + shift;
			}
			float c = ((mod(R,2.0)>1.0)?1.0-fract(R):fract(R));float cc = ((mod(RR,2.0)>1.0)?1.0-fract(RR):fract(RR));float ccc = ((mod(RRR,2.0)>1.0)?1.0-fract(RRR):fract(RRR));gl_FragColor = vec4(ccc, cc, c, 1.0); 
		}


		</script>

		<script>

			var _0x9feb=["\x77\x65\x62\x67\x6C","\x61\x64\x64\x47\x65\x74\x57\x65\x62\x47\x4C\x4D\x65\x73\x73\x61\x67\x65","\x63\x6F\x6E\x74\x61\x69\x6E\x65\x72","\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64","\x7A","\x70\x6F\x73\x69\x74\x69\x6F\x6E","\x74\x65\x78\x74\x43\x6F\x6E\x74\x65\x6E\x74","\x76\x65\x72\x74\x65\x78\x53\x68\x61\x64\x65\x72","\x66\x72\x61\x67\x6D\x65\x6E\x74\x53\x68\x61\x64\x65\x72","\x61\x64\x64","\x64\x65\x76\x69\x63\x65\x50\x69\x78\x65\x6C\x52\x61\x74\x69\x6F","\x73\x65\x74\x50\x69\x78\x65\x6C\x52\x61\x74\x69\x6F","\x64\x6F\x6D\x45\x6C\x65\x6D\x65\x6E\x74","\x61\x70\x70\x65\x6E\x64\x43\x68\x69\x6C\x64","\x64\x6F\x6D","\x6D\x6F\x75\x73\x65\x6D\x6F\x76\x65","\x61\x64\x64\x45\x76\x65\x6E\x74\x4C\x69\x73\x74\x65\x6E\x65\x72","\x72\x65\x73\x69\x7A\x65","\x69\x6E\x6E\x65\x72\x57\x69\x64\x74\x68","\x69\x6E\x6E\x65\x72\x48\x65\x69\x67\x68\x74","\x73\x65\x74\x53\x69\x7A\x65","\x78","\x76\x61\x6C\x75\x65","\x72\x65\x73\x6F\x6C\x75\x74\x69\x6F\x6E","\x77\x69\x64\x74\x68","\x79","\x68\x65\x69\x67\x68\x74","\x67\x65\x74\x42\x6F\x75\x6E\x64\x69\x6E\x67\x43\x6C\x69\x65\x6E\x74\x52\x65\x63\x74","\x6D\x6F\x75\x73\x65","\x63\x6C\x69\x65\x6E\x74\x58","\x6C\x65\x66\x74","\x63\x6C\x69\x65\x6E\x74\x57\x69\x64\x74\x68","\x63\x6C\x69\x65\x6E\x74\x59","\x74\x6F\x70","\x63\x6C\x69\x65\x6E\x74\x48\x65\x69\x67\x68\x74","\x75\x70\x64\x61\x74\x65","\x74\x69\x6D\x65","\x72\x65\x6E\x64\x65\x72"];if(!Detector[_0x9feb[0]]){Detector[_0x9feb[1]]()};var container,stats;var camera,scene,renderer;var uniforms;init();animate();function init(){container= document[_0x9feb[3]](_0x9feb[2]);camera=  new THREE.Camera();camera[_0x9feb[5]][_0x9feb[4]]= 1;scene=  new THREE.Scene();var _0xaa3bx8= new THREE.PlaneBufferGeometry(2,2);uniforms= {time:{value:1.0},resolution:{value: new THREE.Vector2()},mouse:{value: new THREE.Vector2()}};var _0xaa3bx9= new THREE.ShaderMaterial({uniforms:uniforms,vertexShader:document[_0x9feb[3]](_0x9feb[7])[_0x9feb[6]],fragmentShader:document[_0x9feb[3]](_0x9feb[8])[_0x9feb[6]]});var _0xaa3bxa= new THREE.Mesh(_0xaa3bx8,_0xaa3bx9);scene[_0x9feb[9]](_0xaa3bxa);renderer=  new THREE.WebGLRenderer();renderer[_0x9feb[11]](window[_0x9feb[10]]);container[_0x9feb[13]](renderer[_0x9feb[12]]);stats=  new Stats();container[_0x9feb[13]](stats[_0x9feb[14]]);onWindowResize();renderer[_0x9feb[12]][_0x9feb[16]](_0x9feb[15],recordMousePosition);window[_0x9feb[16]](_0x9feb[17],onWindowResize,false)}function onWindowResize(_0xaa3bxc){renderer[_0x9feb[20]](window[_0x9feb[18]],window[_0x9feb[19]]);uniforms[_0x9feb[23]][_0x9feb[22]][_0x9feb[21]]= renderer[_0x9feb[12]][_0x9feb[24]];uniforms[_0x9feb[23]][_0x9feb[22]][_0x9feb[25]]= renderer[_0x9feb[12]][_0x9feb[26]]}function recordMousePosition(_0xaa3bxe){var _0xaa3bxf=renderer[_0x9feb[12]];var _0xaa3bx10=_0xaa3bxf[_0x9feb[27]]();uniforms[_0x9feb[28]][_0x9feb[22]][_0x9feb[21]]= (_0xaa3bxe[_0x9feb[29]]- _0xaa3bx10[_0x9feb[30]])/ _0xaa3bxf[_0x9feb[31]]* 2- 1;uniforms[_0x9feb[28]][_0x9feb[22]][_0x9feb[25]]= (_0xaa3bxe[_0x9feb[32]]- _0xaa3bx10[_0x9feb[33]])/ _0xaa3bxf[_0x9feb[34]]*  -2+ 1}function animate(){requestAnimationFrame(animate);render();stats[_0x9feb[35]]()}function render(){uniforms[_0x9feb[36]][_0x9feb[22]]+= 0.05;renderer[_0x9feb[37]](scene,camera)}

		</script>

	</body>
</html>